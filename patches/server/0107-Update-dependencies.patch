From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: skbeh <60107333+skbeh@users.noreply.github.com>
Date: Mon, 3 Jul 2023 12:00:32 +0000
Subject: [PATCH] Update dependencies


diff --git a/build.gradle.kts b/build.gradle.kts
index c52b43cde3338206e3e76542386fd4f8d0417d1c..00fa739f4e066cdaa3c8117d99651233c500a510 100644
--- a/build.gradle.kts
+++ b/build.gradle.kts
@@ -1,6 +1,6 @@
 plugins {
     id("pandaspigot.conventions")
-    id("com.github.johnrengelman.shadow") version "7.1.2"
+    id("com.gradleup.shadow") version "8.3.5"
 }
 
 val minecraftVersion = "1_8_R3"
@@ -19,33 +19,34 @@ dependencies {
     // PandaSpigot end
 
     // Minecraft libraries:
-    implementation("io.netty:netty-all:4.1.91.Final") // PandaSpigot - Update Netty to 4.1.x
+    implementation("io.netty:netty-all:4.1.115.Final") // PandaSpigot - Update Netty to 4.1.x
     implementation("com.mojang:authlib:1.5.21")
     // PandaSpigot start - Update log4j
-    implementation("org.apache.logging.log4j:log4j-api:2.17.1")
-    implementation("org.apache.logging.log4j:log4j-core:2.17.1")
-    implementation("org.apache.logging.log4j:log4j-slf4j-impl:2.17.1") // PandaSpigot - Add SLF4J logger
+    implementation("org.apache.logging.log4j:log4j-api:2.24.2")
+    implementation("org.apache.logging.log4j:log4j-core:2.24.2")
+    implementation("org.apache.logging.log4j:log4j-slf4j2-impl:2.24.2") // PandaSpigot - Add SLF4J logger
+    annotationProcessor("org.apache.logging.log4j:log4j-core:2.24.2")
     // PandaSpigot end
-    implementation("org.apache.commons:commons-lang3:3.3.2")
-    implementation("commons-io:commons-io:2.4")
-    implementation("commons-codec:commons-codec:1.9")
-    implementation("com.google.guava:guava:17.0")
-    implementation("com.google.code.gson:gson:2.2.4")
+    implementation("org.apache.commons:commons-lang3:3.12.0")
+    implementation("commons-io:commons-io:2.13.0")
+    implementation("commons-codec:commons-codec:1.16.0")
+    implementation("com.google.guava:guava:18.0")
+    implementation("com.google.code.gson:gson:2.10.1")
     implementation("net.sf.trove4j:trove4j:3.0.3")
-    implementation("net.sf.jopt-simple:jopt-simple:3.2")
+    implementation("net.sf.jopt-simple:jopt-simple:6.0-alpha-3")
 
-    implementation("org.xerial:sqlite-jdbc:3.7.2")
-    implementation("mysql:mysql-connector-java:5.1.14")
+    implementation("org.xerial:sqlite-jdbc:3.47.1.0")
+    implementation("com.mysql:mysql-connector-j:8.0.33")
 
     // PandaSpigot start - Use TerminalConsoleAppender
     implementation("net.minecrell:terminalconsoleappender:1.3.0")
-    implementation("org.jline:jline-terminal-jansi:3.20.0")
+    implementation("org.jline:jline-terminal-ffm:3.27.1")
     // PandaSpigot end
 
-    implementation("net.kyori:adventure-key:4.10.1") // PandaSpigot - Add Channel initialization listeners
+    implementation("net.kyori:adventure-key:4.13.0") // PandaSpigot - Add Channel initialization listeners
 
-    testImplementation("junit:junit:4.11")
-    testImplementation("org.hamcrest:hamcrest-library:1.3")
+    testImplementation("junit:junit:4.13.2")
+    testImplementation("org.hamcrest:hamcrest-library:2.2")
 }
 
 fun TaskContainer.registerRunTask(
diff --git a/src/main/java/net/minecraft/server/LocaleLanguage.java b/src/main/java/net/minecraft/server/LocaleLanguage.java
index 1af40905e279a30d64bd5c8961797dce3ce2aaf1..c95add6e46bedef7e0e23218e0e4d5c7482435e8 100644
--- a/src/main/java/net/minecraft/server/LocaleLanguage.java
+++ b/src/main/java/net/minecraft/server/LocaleLanguage.java
@@ -21,7 +21,6 @@ public class LocaleLanguage {
     private long e;
 
     public LocaleLanguage() {
-        try {
             InputStream inputstream = LocaleLanguage.class.getResourceAsStream("/assets/minecraft/lang/en_US.lang");
             Iterator iterator = IOUtils.readLines(inputstream, Charsets.UTF_8).iterator();
 
@@ -41,9 +40,6 @@ public class LocaleLanguage {
             }
 
             this.e = System.currentTimeMillis();
-        } catch (IOException ioexception) {
-            ;
-        }
 
     }
 
diff --git a/src/main/java/org/bukkit/craftbukkit/CraftServer.java b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
index 587c7e5c199b3037ca461a24352d899678092857..55967b89619eae946a86bec6af9e11889f9d8f36 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftServer.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
@@ -102,6 +102,7 @@ import org.bukkit.plugin.messaging.StandardMessenger;
 import org.bukkit.scheduler.BukkitWorker;
 import org.bukkit.util.StringUtil;
 import org.bukkit.util.permissions.DefaultPermissions;
+import org.yaml.snakeyaml.LoaderOptions;
 import org.yaml.snakeyaml.Yaml;
 import org.yaml.snakeyaml.constructor.SafeConstructor;
 import org.yaml.snakeyaml.error.MarkedYAMLException;
@@ -142,7 +143,7 @@ public final class CraftServer implements Server {
     private final Map<String, World> worlds = new LinkedHashMap<String, World>();
     private YamlConfiguration configuration;
     private YamlConfiguration commandsConfiguration;
-    private final Yaml yaml = new Yaml(new SafeConstructor());
+    private final Yaml yaml = new Yaml(new SafeConstructor(new LoaderOptions()));
     private final Map<UUID, OfflinePlayer> offlinePlayers = new MapMaker().softValues().makeMap();
     private final EntityMetadataStore entityMetadata = new EntityMetadataStore();
     private final PlayerMetadataStore playerMetadata = new PlayerMetadataStore();
diff --git a/src/main/java/org/bukkit/craftbukkit/command/ColouredConsoleSender.java b/src/main/java/org/bukkit/craftbukkit/command/ColouredConsoleSender.java
index db136710d92633f7348bbcaf63bf7109e3e7664b..4511e3eed186fd6e074e38602cf53e692c711c9a 100644
--- a/src/main/java/org/bukkit/craftbukkit/command/ColouredConsoleSender.java
+++ b/src/main/java/org/bukkit/craftbukkit/command/ColouredConsoleSender.java
@@ -3,8 +3,6 @@ package org.bukkit.craftbukkit.command;
 import java.util.EnumMap;
 import java.util.Map;
 
-import org.fusesource.jansi.Ansi;
-import org.fusesource.jansi.Ansi.Attribute;
 //import jline.Terminal; // PandaSpigot - comment out
 
 import org.bukkit.Bukkit;
